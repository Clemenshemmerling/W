!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.W=e()}(this,function(){function t(){if("orientation"in window)return window.orientation?"landscape":"portrait";var t=e();return t.width>t.height?"landscape":"portrait"}function e(e){var n,i,r,o,h=[{width:screen.availWidth,height:screen.availHeight},{width:window.outerWidth,height:window.outerHeight},{width:window.innerWidth,height:window.innerHeight}];if(/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&"landscape"==t()?(n=screen.height,i=screen.width,h[2].width=n):(n=screen.width,i=screen.height),e)return{width:n,height:i};for(r=0,o=h.length;o>r;++r)h[r].width>n||h[r].height>i||!h[r].width||!h[r].height?h[r].note=0:h[r].note=n-h[r].width+(i-h[r].height);return h.sort(function(t,e){return e.note-t.note}),{width:h[0].width,height:h[0].height}}var n=[],i=!1;window.addEventListener?"onorientationchange"in window?window.addEventListener("orientationchange",function(){i=!0},!1):window.addEventListener("resize",function(){i=!0},!1):window.attachEvent("onresize",function(){i=!0}),setInterval(function(){if(i&&document.documentElement.clientWidth){i=!1;for(var t=0,e=n.length;e>t;++t)n[t].func()}},10);var r={getViewportWidth:function(t){return e(t).width},getViewportHeight:function(t){return e(t).height},getOrientation:function(){return t()},addListener:function(t,e){return n.push({func:t,key:e}),t},removeListener:function(t){for(var e=0,i=n.length;i>e;++e)if(n[e].key==t){n.splice(e,1);break}},clearListeners:function(){n=[]},trigger:function(t){for(var e=0,i=n.length;i>e;++e)("undefined"==typeof t||n[e].key==t)&&n[e].func()}};return r});