!function(n,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():n.W=e()}(this,function(){function n(){var n;if("orientation"in window){var e=window.orientation;n=90==e||-90==e}else n=window.innerWidth>window.innerHeight;return n?"landscape":"portrait"}function e(e){var t=screen.width,i=screen.height;if("landscape"==n()&&i>t&&(t=screen.height,i=screen.width),e)return{width:t,height:i};var r=window.innerWidth,o=window.innerHeight;return(!r||!o||r>t||o>i||980==r)&&(r=window.outerWidth,o=window.outerHeight),(!r||!o||r>t||o>i)&&(r=screen.availWidth,o=screen.availHeight),{width:r,height:o}}var t=[],i=!1;window.addEventListener?"onorientationchange"in window?window.addEventListener("orientationchange",function(){i=!0},!1):window.addEventListener("resize",function(){i=!0},!1):window.attachEvent("onresize",function(){i=!0}),setInterval(function(){if(i&&document.documentElement.clientWidth){i=!1;for(var n=0,e=t.length;e>n;++n)t[n].func()}},10);var r={getViewportDimensions:function(n){return e(n)},getViewportWidth:function(n){return e(n).width},getViewportHeight:function(n){return e(n).height},getOrientation:function(){return n()},addListener:function(n,e){return t.push({func:n,key:e}),n},removeListener:function(n){for(var e=0,i=t.length;i>e;++e)if(t[e].key==n){t.splice(e,1);break}},clearListeners:function(){t=[]},trigger:function(n){for(var e=0,i=t.length;i>e;++e)("undefined"==typeof n||t[e].key==n)&&t[e].func()}};return r});