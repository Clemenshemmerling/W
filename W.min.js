!function(e,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():e.W=n()}(this,function(){function e(){var e;if("orientation"in window){var n=window.orientation;e=90==n||-90==n}else e=window.innerWidth>window.innerHeight;return e?"landscape":"portrait"}function n(n){var t=screen.width,i=screen.height;if("landscape"==e()&&i>t&&(t=screen.height,i=screen.width),n)return{width:t,height:i};var r=window.innerWidth,o=window.innerHeight;return(!r||!o||r>t||o>i||980==r)&&(r=window.outerWidth,o=window.outerHeight),(!r||!o||r>t||o>i)&&(r=screen.availWidth,o=screen.availHeight),{width:r,height:o}}var t=[],i=!1;window.addEventListener?window.addEventListener("resize",function(){i=!0},!1):window.attachEvent("onresize",function(){i=!0}),setInterval(function(){if(i&&document.documentElement.clientWidth){i=!1;for(var e=0,n=t.length;n>e;++e)t[e].func()}},10);var r={getViewportDimensions:function(e){return n(e)},getViewportWidth:function(e){return n(e).width},getViewportHeight:function(e){return n(e).height},getOrientation:function(){return e()},addListener:function(e,n){return t.push({func:e,key:n}),e},removeListener:function(e){for(var n=0,i=t.length;i>n;++n)if(t[n].key==e){t.splice(n,1);break}},clearListeners:function(){t=[]},trigger:function(e){for(var n=0,i=t.length;i>n;++n)"undefined"!=typeof e&&t[n].key!=e||t[n].func()}};return r});